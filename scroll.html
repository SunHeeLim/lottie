<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="format-detection" content="telephone=no"/>
<style>
    .wrap{
        width: 100%;
        height: 1000vh;
    }
    #lottie{
        position: fixed;
        left:0%;
        top:0;
        width: 50%;
        height: 50%;
    }
</style>
<script src="js/lottie.min.js" type="text/javascript"></script>
<script>
document.addEventListener( "DOMContentLoaded" , function(){
    var anim = [];
    var elem = document.getElementById("lottie");
    var animData = {
        container : elem,
        renderer:"svg",
        loop:false,
        autoplay:false,
        rendererSettings:{
            progressiveLoad: false, // Boolean, only svg renderer, loads dom elements when needed. Might speed up initialization for large number of elements.
            hideOnTransparent: true, //Boolean, only svg renderer, hides elements when opacity reaches 0 (defaults to true)
            
            filterSize: {
                width: '200%',
                height: '200%',
                x: '-50%',
                y: '-50%',
            }
        },
        path: './img/Success_down.json'
    };
    anim = bodymovin.loadAnimation(animData);

    function lottieScroll(){
        console.log( document.documentElement.scrollTop , document.documentElement.scrollHeight , window.innerHeight )
        let scrollPercent = Math.round( document.documentElement.scrollTop / (document.documentElement.scrollHeight - window.innerHeight) * 100);
        anim.goToAndStop(scrollPercent%anim.totalFrames , true );
    }

    document.addEventListener("scroll",function(){
        lottieScroll();
    });
});
</script>
<title>lottie animation</title>
</head>
<body>
    <div class="wrap">
        <div id="lottie"></div>
    </div>
</body>
</html>